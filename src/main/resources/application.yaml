management:
  endpoint:
    health:
      show-details: when_authorized
    gateway:
      enabled: true
    metrics:
      enabled: true
  endpoints:
    web:
      exposure:
        include: "gateway,health,info,conditions,configprops,metrics,prometheus"
  server:
    port: 8090
  metrics:
    export:
      wavefront:
        enabled: false
      prometheus:
        enabled: true

spring:
  cloud:
    gateway:
      filter:
        token-relay:
          enabled: false
      actuator:
        verbose:
          enabled: false
      routes:
        - id: getHttpbin
          uri: http://httpbin-svc.test.svc
          predicates:
            - Method=GET,POST
            - Path=/httpbin/**
          filters:
            - PreserveHostHeader
            - StripPrefix=1
            - SetRequestHostHeader=org.test.scg
        - id: getRandom
          uri: http://perf-upstream-api-svc.test.svc
          predicates:
            - Method=GET,POST
            - Path=/random/**
          filters:
            - PreserveHostHeader
            - StripPrefix=1
            - SetRequestHostHeader=org.test.scg
#logging:
#  level:
#    org:
#      springframework:
#        cloud:
#          gateway: TRACE
